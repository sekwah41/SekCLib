<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-sync">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<title data-rh="true">@Sync Annotation | Sekwah41&#x27;s Core Library</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sekclib.sekwah.com//docs/sync"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="@Sync Annotation | Sekwah41&#x27;s Core Library"><meta data-rh="true" name="description" content="Info on the @Sync Annotation and how to use it"><meta data-rh="true" property="og:description" content="Info on the @Sync Annotation and how to use it"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sekclib.sekwah.com//docs/sync"><link data-rh="true" rel="alternate" href="https://sekclib.sekwah.com//docs/sync" hreflang="en"><link data-rh="true" rel="alternate" href="https://sekclib.sekwah.com//docs/sync" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a40553b9.css">
<link rel="preload" href="/assets/js/runtime~main.7704ebae.js" as="script">
<link rel="preload" href="/assets/js/main.5514f12d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/sekclib.png" alt="SekC Lib Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/sekclib.png" alt="SekC Lib Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SekC Lib</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sekwah41/SekCLib" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/setup">Adding the library to your mod</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/sync">@Sync Annotation</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">@Sync Annotation</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>@Sync Annotation</h1><p>This allows for the automatic syncing of data from the server to the client for entity capabilities.</p><p>If there is demand we will also be looking into supporting other capability types if requested.</p><p>The main interfaces will be kept the same though we will be optimising and improving the underlying code.
This should not require any changes to your mod code though we will release major version bumps if it does make any incompatible changes.
We will also announce on our <a href="https://discord.sekwah.com/" target="_blank" rel="noopener noreferrer">Discord</a> server if there are any major changes.</p><p>You can make edits on the client side, though whenever the values are broadcasted from the server it will overwrite whatever you  have set locally.
This can be used if you can accurately update client side but want to just re-sync it on an interval from the server.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-code">Example Code<a class="hash-link" href="#example-code" title="Direct link to heading">​</a></h2><p>The following is an example with two supported types of data, and a custom one registered via the RegisterSyncTrackerTypeEvent.</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import com.sekwah.sekclib.capabilitysync.capabilitysync.annotation.Sync;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import net.minecraftforge.common.capabilities.ICapabilityProvider;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ExampleCapability implements IExampleCapability, ICapabilityProvider {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Sync(minTicks = 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ResourceLocation currentlyChanneled;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Sync(minTicks = 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int ticksChanneled;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Sync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ToggleAbilityData toggleAbilityData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="registering-a-capability-for-syncing">Registering a Capability for Syncing<a class="hash-link" href="#registering-a-capability-for-syncing" title="Direct link to heading">​</a></h2><p>To register a capability for syncing you will need to listen to the <code>RegisterCapabilitySyncEvent</code> on the <code>MOD</code> event bus.</p><p><a href="https://github.com/sekwah41/Naruto-Mod/blob/2a87ced2daa10cf9eaf3c1f2e480a2ea5ddedd3d/src/main/java/com/sekwah/narutomod/NarutoMod.java#L91-L93" target="_blank" rel="noopener noreferrer">Example Code</a></p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Mod.EventBusSubscriber(modid = NarutoMod.MOD_ID, bus = Mod.EventBusSubscriber.Bus.MOD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class NarutoSyncTrackers {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @SubscribeEvent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void registerCapabilitySync(RegisterCapabilitySyncEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * You do not need to use the same resource location as the capability though it makes it easier to keep track of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * Provide the capability reference you would pass to .getCapability and the class that implements it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         * This is the one you plan to use the @Sync annotations in.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        event.registerPlayerCap(new ResourceLocation(NarutoMod.MOD_ID, &quot;ninja_data&quot;), NinjaCapabilityHandler.NINJA_DATA, NinjaData.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sync-attributes">@Sync Attributes<a class="hash-link" href="#sync-attributes" title="Direct link to heading">​</a></h2><p>You can further customise the way that the <a href="https://github.com/sekwah41/SekCLib/blob/master/src/main/java/com/sekwah/sekclib/capabilitysync/capabilitysync/annotation/Sync.java" target="_blank" rel="noopener noreferrer">@Sync</a> annotation works by adding attributes to the annotation.
For the most part the names should be relatively self-explanatory.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="int-minticks">int minTicks<a class="hash-link" href="#int-minticks" title="Direct link to heading">​</a></h3><p>Default: 3</p><p>This is the minimum number of ticks between syncs.
This is to prevent syncing too often, a good example would be large visual changes which could be abused to cause epilepsy or generally would be visually unpleasant.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="boolean-syncglobally">boolean syncGlobally<a class="hash-link" href="#boolean-syncglobally" title="Direct link to heading">​</a></h3><p>If the data being synced should be available to all players.
This is useful for data needed for visual changes or other info that all players may need to know for your other features.
If this is false, the values will never be changes from their default values unless the capability is attached to their player.</p><p>A good example where you may not want to globally sync is if you are syncing a player&#x27;s energy/mana.
This will avoid third party mods being able to retrieve that data and create extra feedback as well as unnecessary packets to all surrounding players if you are syncing a large object.</p><p>If the capability you are syncing only ever attached to entities, then you will need this to be set to true otherwise no data will ever be sent to a client. If you do not want this then leave the @Sync annotation off as it won&#x27;t do anything.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="registering-custom-sync-types">Registering Custom @Sync Types<a class="hash-link" href="#registering-custom-sync-types" title="Direct link to heading">​</a></h2><p>If you want to sync a type we do not currently support please raise a PR on <a href="https://github.com/sekwah41/SekCLib" target="_blank" rel="noopener noreferrer">Github</a> so we can officially support it.
Though if you plan to sync a custom type you can do so by registering it with the <code>RegisterSyncTrackerTypeEvent</code> event.
You will also need to make a custom class so that the mod knows how to add and retrieve the data from the <code>FriendlyByteBuf</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registering-example"><a href="https://github.com/sekwah41/Naruto-Mod/blob/2a87ced2daa10cf9eaf3c1f2e480a2ea5ddedd3d/src/main/java/com/sekwah/narutomod/trackers/NarutoSyncTrackers.java" target="_blank" rel="noopener noreferrer">Registering Example</a><a class="hash-link" href="#registering-example" title="Direct link to heading">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Mod.EventBusSubscriber(modid = NarutoMod.MOD_ID, bus = Mod.EventBusSubscriber.Bus.MOD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class NarutoSyncTrackers {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @SubscribeEvent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void registerSyncTrackerEvent(RegisterSyncTrackerTypeEvent event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        event.registerSyncTracker(ToggleAbilityData.class, new ToggleAbilityDataSyncTracker());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        event.registerSyncTracker(DoubleJumpData.class, new DoubleJumpDataSyncTracker());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-example-of-synctrackerserializer">Basic Example of SyncTrackerSerializer<a class="hash-link" href="#basic-example-of-synctrackerserializer" title="Direct link to heading">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ResourceLocationSyncTracker implements SyncTrackerSerializer&lt;ResourceLocation&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void encode(ResourceLocation objectToSend, FriendlyByteBuf outBuffer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        outBuffer.writeUtf(objectToSend.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ResourceLocation decode(FriendlyByteBuf inBuffer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new ResourceLocation(inBuffer.readUtf());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synctrackerclone">SyncTrackerClone<a class="hash-link" href="#synctrackerclone" title="Direct link to heading">​</a></h3><p>This is used to clone the data when copies of the last sent data are being used.
Without this the library would not be able to tell if the data has changed as it would be using a reference to compare to the original.</p><p>Example of a <code>SyncTrackerSerializer</code> &amp; <code>SyncTrackerClone</code> implementation</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ToggleAbilityDataSyncTracker implements SyncTrackerSerializer&lt;ToggleAbilityData&gt;, SyncTrackerClone&lt;ToggleAbilityData&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void encode(ToggleAbilityData objectToSend, FriendlyByteBuf outBuffer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        outBuffer.writeInt(objectToSend.getAbilitiesHashSet().size());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (ResourceLocation ability : objectToSend.getAbilitiesHashSet()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            outBuffer.writeUtf(ability.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ToggleAbilityData decode(FriendlyByteBuf inBuffer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        final int size = inBuffer.readInt();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ToggleAbilityData data = new ToggleAbilityData(size);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(int i = 0; i &lt; size; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            data.getAbilitiesHashSet().add(new ResourceLocation(inBuffer.readUtf()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ToggleAbilityData clone(ToggleAbilityData data) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ToggleAbilityData cloned = new ToggleAbilityData(data.getAbilitiesHashSet().size());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cloned.getAbilitiesHashSet().addAll(data.getAbilitiesHashSet());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return cloned;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synctrackerupdater">SyncTrackerUpdater<a class="hash-link" href="#synctrackerupdater" title="Direct link to heading">​</a></h3><p>For some objects you may not want to replace the object every time to keep references to other objects you have created. While we do not currently have an example though the interface for
<a href="https://github.com/sekwah41/SekCLib/blob/master/src/main/java/com/sekwah/sekclib/capabilitysync/capabilitysync/tracker/SyncTrackerUpdater.java" target="_blank" rel="noopener noreferrer">SyncTrackerUpdater</a>
should be pretty self-explanatory.</p><p>You likely will not need to use this though it is there just in case.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/sekwah41/SekCLib/edit/master/docs/docs/sync.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/contributing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Contributing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#example-code" class="table-of-contents__link toc-highlight">Example Code</a></li><li><a href="#registering-a-capability-for-syncing" class="table-of-contents__link toc-highlight">Registering a Capability for Syncing</a></li><li><a href="#sync-attributes" class="table-of-contents__link toc-highlight">@Sync Attributes</a><ul><li><a href="#int-minticks" class="table-of-contents__link toc-highlight">int minTicks</a></li><li><a href="#boolean-syncglobally" class="table-of-contents__link toc-highlight">boolean syncGlobally</a></li></ul></li><li><a href="#registering-custom-sync-types" class="table-of-contents__link toc-highlight">Registering Custom @Sync Types</a><ul><li><a href="#registering-example" class="table-of-contents__link toc-highlight">Registering Example</a></li><li><a href="#basic-example-of-synctrackerserializer" class="table-of-contents__link toc-highlight">Basic Example of SyncTrackerSerializer</a></li><li><a href="#synctrackerclone" class="table-of-contents__link toc-highlight">SyncTrackerClone</a></li><li><a href="#synctrackerupdater" class="table-of-contents__link toc-highlight">SyncTrackerUpdater</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Downloads</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.curseforge.com/minecraft/mc-mods/sekclib" target="_blank" rel="noopener noreferrer" class="footer__link-item">CurseForge<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sekwah41/SekCLib/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.sekwah.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/sekwah" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sekwah41/SekCLib/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sekwah41/SekCLib" target="_blank" rel="noopener noreferrer" class="footer__link-item">Source Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Sekwah.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7704ebae.js"></script>
<script src="/assets/js/main.5514f12d.js"></script>
</body>
</html>